{"ast":null,"code":"import { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nimport { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\n\nvar _jsxFileName = \"/Users/ramson/Developer/GitHub/production/grub-dash-front-end/src/layout/Layout.js\",\n    _s = $RefreshSig$();\n\nimport React, { useState } from \"react\";\nimport Header from \"./Header\";\nimport NotFound from \"./NotFound\";\nimport Menu from \"./Menu\";\nimport { Redirect, Route, Switch, useHistory } from \"react-router-dom\";\nimport Home from \"../home/Home\";\nimport OrderCreate from \"../orders/OrderCreate\";\nimport OrderEdit from \"../orders/OrderEdit\";\nimport DishEdit from \"../dishes/DishEdit\";\nimport DishCreate from \"../dishes/DishCreate\";\nimport Dashboard from \"../dashboard/Dashbaord\";\nimport OrderConfirmed from \"../orders/OrderComfired\";\nconst initialState = {\n  deliverTo: \"\",\n  mobilePhone: \"\",\n  status: \"pending\",\n  dishes: []\n};\n\nfunction Layout() {\n  _s();\n\n  const history = useHistory();\n  const [order, setOrder] = useState({ ...initialState\n  });\n\n  function addToCart(newDish) {\n    setOrder(previousOrder => {\n      const index = previousOrder.dishes.findIndex(dish => dish.id === newDish.id);\n\n      if (index === -1) {\n        return { ...previousOrder,\n          dishes: previousOrder.dishes.concat({ ...newDish,\n            quantity: 1\n          })\n        };\n      }\n\n      const dishes = previousOrder.dishes.map(dish => ({ ...dish,\n        quantity: dish.quantity + (dish.id === newDish.id)\n      }));\n      return { ...previousOrder,\n        dishes\n      };\n    });\n  }\n\n  function onSubmit(newOrder) {\n    setOrder({ ...initialState\n    });\n    history.push(`/orders/${newOrder.id}/confirmed`);\n  }\n\n  return /*#__PURE__*/_jsxDEV(_Fragment, {\n    children: [/*#__PURE__*/_jsxDEV(Header, {}, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 57,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(Menu, {\n      cartCount: order.dishes.reduce((sum, dish) => sum + dish.quantity, 0)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 58,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"container\",\n      children: /*#__PURE__*/_jsxDEV(Switch, {\n        children: [/*#__PURE__*/_jsxDEV(Route, {\n          exact: true,\n          path: \"/orders\",\n          children: /*#__PURE__*/_jsxDEV(Redirect, {\n            to: \"/dashboard\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 64,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 63,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(Route, {\n          exact: true,\n          path: \"/dishes\",\n          children: /*#__PURE__*/_jsxDEV(Redirect, {\n            to: \"/dashboard\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 67,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 66,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(Route, {\n          path: \"/orders/new\",\n          children: /*#__PURE__*/_jsxDEV(OrderCreate, {\n            order: order,\n            setOrder: setOrder,\n            onSubmit: onSubmit\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 70,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 69,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(Route, {\n          path: \"/orders/:orderId/confirmed\",\n          children: /*#__PURE__*/_jsxDEV(OrderConfirmed, {}, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 77,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 76,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(Route, {\n          path: \"/orders/:orderId/edit\",\n          children: /*#__PURE__*/_jsxDEV(OrderEdit, {}, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 80,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 79,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(Route, {\n          path: \"/dashboard\",\n          children: /*#__PURE__*/_jsxDEV(Dashboard, {}, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 83,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 82,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(Route, {\n          path: \"/dishes/:dishId/edit\",\n          children: /*#__PURE__*/_jsxDEV(DishEdit, {}, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 86,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 85,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(Route, {\n          path: \"/dishes/new\",\n          children: /*#__PURE__*/_jsxDEV(DishCreate, {}, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 89,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 88,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(Route, {\n          exact: true,\n          path: \"/\",\n          children: /*#__PURE__*/_jsxDEV(Home, {\n            addToCart: addToCart\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 92,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 91,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(Route, {\n          children: /*#__PURE__*/_jsxDEV(NotFound, {}, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 95,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 94,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 62,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 61,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true);\n}\n\n_s(Layout, \"ZIKJ4feT+bc+NyNmXlzoEKyY/UM=\", false, function () {\n  return [useHistory];\n});\n\n_c = Layout;\nexport default Layout;\n\nvar _c;\n\n$RefreshReg$(_c, \"Layout\");","map":{"version":3,"sources":["/Users/ramson/Developer/GitHub/production/grub-dash-front-end/src/layout/Layout.js"],"names":["React","useState","Header","NotFound","Menu","Redirect","Route","Switch","useHistory","Home","OrderCreate","OrderEdit","DishEdit","DishCreate","Dashboard","OrderConfirmed","initialState","deliverTo","mobilePhone","status","dishes","Layout","history","order","setOrder","addToCart","newDish","previousOrder","index","findIndex","dish","id","concat","quantity","map","onSubmit","newOrder","push","reduce","sum"],"mappings":"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","sourcesContent":["import React, { useState } from \"react\";\nimport Header from \"./Header\";\nimport NotFound from \"./NotFound\";\nimport Menu from \"./Menu\";\nimport { Redirect, Route, Switch, useHistory } from \"react-router-dom\";\nimport Home from \"../home/Home\";\nimport OrderCreate from \"../orders/OrderCreate\";\nimport OrderEdit from \"../orders/OrderEdit\";\nimport DishEdit from \"../dishes/DishEdit\";\nimport DishCreate from \"../dishes/DishCreate\";\nimport Dashboard from \"../dashboard/Dashbaord\";\nimport OrderConfirmed from \"../orders/OrderComfired\";\n\nconst initialState = {\n  deliverTo: \"\",\n  mobilePhone: \"\",\n  status: \"pending\",\n  dishes: [],\n};\n\nfunction Layout() {\n  const history = useHistory();\n  const [order, setOrder] = useState({ ...initialState });\n\n  function addToCart(newDish) {\n    setOrder((previousOrder) => {\n      const index = previousOrder.dishes.findIndex(\n        (dish) => dish.id === newDish.id\n      );\n\n      if (index === -1) {\n        return {\n          ...previousOrder,\n          dishes: previousOrder.dishes.concat({ ...newDish, quantity: 1 }),\n        };\n      }\n\n      const dishes = previousOrder.dishes.map((dish) => ({\n        ...dish,\n        quantity: dish.quantity + (dish.id === newDish.id),\n      }));\n\n      return {\n        ...previousOrder,\n        dishes,\n      };\n    });\n  }\n\n  function onSubmit(newOrder) {\n    setOrder({ ...initialState });\n    history.push(`/orders/${newOrder.id}/confirmed`);\n  }\n\n  return (\n    <>\n      <Header />\n      <Menu\n        cartCount={order.dishes.reduce((sum, dish) => sum + dish.quantity, 0)}\n      />\n      <div className=\"container\">\n        <Switch>\n          <Route exact={true} path=\"/orders\">\n            <Redirect to={\"/dashboard\"} />\n          </Route>\n          <Route exact={true} path=\"/dishes\">\n            <Redirect to={\"/dashboard\"} />\n          </Route>\n          <Route path=\"/orders/new\">\n            <OrderCreate\n              order={order}\n              setOrder={setOrder}\n              onSubmit={onSubmit}\n            />\n          </Route>\n          <Route path=\"/orders/:orderId/confirmed\">\n            <OrderConfirmed />\n          </Route>\n          <Route path=\"/orders/:orderId/edit\">\n            <OrderEdit />\n          </Route>\n          <Route path=\"/dashboard\">\n            <Dashboard />\n          </Route>\n          <Route path=\"/dishes/:dishId/edit\">\n            <DishEdit />\n          </Route>\n          <Route path=\"/dishes/new\">\n            <DishCreate />\n          </Route>\n          <Route exact={true} path=\"/\">\n            <Home addToCart={addToCart} />\n          </Route>\n          <Route>\n            <NotFound />\n          </Route>\n        </Switch>\n      </div>\n    </>\n  );\n}\n\nexport default Layout;\n"]},"metadata":{},"sourceType":"module"}